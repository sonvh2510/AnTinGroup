"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var map,lastItemClickedIndex,locations,infoWindow,mapSelector=document.querySelector("#map"),dealerLocatorList=document.querySelector(".dealer-locator-list .list"),markers=[],mapOption={zoom:12,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#0c6db5"},{visibility:"on"}]}]},addMarkers=function(){markers=[];var a=new google.maps.LatLngBounds;locations.forEach(function(e,t){var o=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({map:map,title:e.title,position:o,icon:e.icon});a.extend(n.position),markers.push(n),showInfoMarkerOnMap(n,t)}),map.fitBounds(a)},showInfoMarkerOnMap=function(e,t){google.maps.event.addListener(e,"click",function(){infoWindow.setContent("\n\t\t\t\t<h3>".concat(locations[t].title,"</h3>\n\t\t\t\t<p>").concat(locations[t].address,"</p>\n\t\t\t\t<p>").concat(locations[t].phone,"</p>\n\t\t\t")),lastItemClickedIndex=t,infoWindow.open(map,e),map.panTo(e.getPosition()),map.setZoom(12)}),google.maps.event.addListener(map,"click",function(){infoWindow.close()})},getLocationList=function(){dealerLocatorList&&(dealerLocatorList.innerHTML="",markers.forEach(function(e,t){var o=document.createElement("div");o.classList.add("dealer-locator-item"),o.innerHTML="\n\t\t\t\t<h3>".concat(locations[t].title,"</h3>\n\t\t\t\t<p>").concat(locations[t].address,"</p>\n\t\t\t\t<p>").concat(locations[t].phone,"</p>\n\t\t\t"),o.setAttribute("marker-id","".concat(t)),o.addEventListener("click",function(){lastItemClickedIndex=t;var e=o.getAttribute("marker-id");google.maps.event.trigger(markers[e],"click")}),dealerLocatorList.appendChild(o)}))},initialize=function(){if("object"==("undefined"==typeof locationsInput?"undefined":_typeof(locationsInput))){locations=locationsInput,infoWindow=new google.maps.InfoWindow,map=new google.maps.Map(mapSelector,mapOption),addMarkers();var e=google.maps.event.addListener(map,"idle",function(){12<map.getZoom()&&map.setZoom(12),google.maps.event.removeListener(e)});google.maps.event.addListener(map,"bounds_changed",getLocationList)}};mapSelector&&(google.maps.event.addDomListener(window,"load",initialize),dealerLocatorList&&getLocationList());
//# sourceMappingURL=map.min.js.map
